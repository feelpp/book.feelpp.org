<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Modeling and Analysis using the JSON files :: Feel++ Docs</title>
    <link rel="canonical" href="https://docs.feelpp.org/toolboxes/latest/modeling-analysis-using-json-files.html">
    <link rel="prev" href="what-is-a-toolbox.html">
    <link rel="next" href="parametrized-simulation-using-cfg-files.html">
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
<script>!function(l,p){if(l.protocol!==p&&l.host=="docs.antora.org"){l.protocol=p}else if(/\.gitlab\.io$/.test(l.host)){l.replace(p+"//docs.antora.org"+l.pathname.substr(l.pathname.indexOf("/",1))+l.search+l.hash)}}(location,"https:")</script>

<script src="../../_/js/vendor/tabs-block-extension.js"></script>
<script src="../../_/js/vendor/tabs-block-behavior.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\\[','\\]']],
    processEscapes: true,
    processEnvironments: true,
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },

  TeX: {
      Macros: {
      RR: "{\\mathbb R}",
      NN: "{\\mathbb N}",
      Nso: "{N_{\\mathrm{so}}}",
      Nma: "{N_{\\mathrm{ma}}}",
      Nno: "{N_{\\mathrm{no}}}",
      Ne: "{N_{\\mathrm{e}}}",
      Ilag: ["{\\mathcal{I}^{\\mathrm{lag}}_{#1}}",1],
      calTh: "{\\mathcal{T}_h}",
      Ck: ["{\\mathcal{C}^{#1}}",1],
      Pk: ["{\\mathcal{P}^{#1}}",1],
      Qk: ["{\\mathcal{Q}^{#1}}",1],
      Pch: ["{P^{#1}_{c,h}}",1],
      Pcho: ["{P^{#1}_{c,h,0}}",1],
      Qch: ["{Q^{#1}_{c,h}}",1],
      Ich: ["{\\mathcal{I}^{#1}_{c,h}#2}",2],
      poly: ["{\\mathbb{#1}}",1],
      nf: "{n_f}",
      ngeo: "{n_{\\mathrm{geo}}}",
      geo: "{\\mathrm{geo}}",
      card: ["{\\operatorname{card}(#1)}",1],
      dim: ["{\\operatorname{dim}(#1)}",1],
      opdim: "{\\operatorname{dim}}",
      card: ["{\\operatorname{card}(#1)}",1],
      poly: ["{\\mathbb{#1}",1],
      R: ["{\\mathbb{R}^{#1}}",1],
      set: ["{\\left\\{#1\\right\\}}",1],
      diam: "{\\operatorname{diam}}",
      jump: ["{[\\![ #1 ]\\!]}",1],
      Next: "{\\mathrm{n}}",
      essinf: "{\\operatorname{ess}\\, \\operatorname{inf}}",
      tr: "{\\operatorname{tr}}",
      Id: "{\\mathcal{I}}",
      disp: ["{\\mathbf{#1}}",1],
      stresst: ["{\\mathbf{\\sigma(#1)}}",1],
      deformt: ["{\\mathbf{\\varepsilon(#1)}}",1],
      domain: "{\\Omega}",
      prect: ["{\\left\\(#1\\right\\)}",1],
      ds: "",
      bold: ["{\\bf #1}",1],
      p: "{\\mathrm{p}}",
      q:"{\\mathbf{q}}",
      n:"{\\mathbf{n}}",
      T:"{\\mathcal{T}}",
      F:"{\\mathcal{F}}",
      P:"{\\mathcal{P}}",
      v:"{\\mathbf{v}}"
  },
  extensions: ["mhchem.js"] }
});
</script>
<!--<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js?config=TeX-MML-AM_CHTML"></script>-->
<!-- <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script> -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML'>
</script>
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>-->

<!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css" integrity="sha384-TEMocfGvRuD1rIAacqrknm5BQZ7W7uWitoih+jMNFXQIbNl16bO8OZmylH/Vi/Ei" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.js" integrity="sha384-jmxIlussZWB7qCuB+PgKG1uLjjxbVVIayPJwi6cG6Zb4YKq0JIw+OMnkkEC7kYCq" crossorigin="anonymous"></script>-->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-65761593-1"></script>
<script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','UA-65761593-1')</script>
<script>var uiRootPath = '../../_'</script>

<script type='text/javascript' src='https://platform-api.sharethis.com/js/sharethis.js#property=5f34e90f94876f0012457ea1&product=sop' async='async'></script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar  navbar-expand-sm bg-dark navbar-dark">
    <div class="navbar-brand">
      <div class="navbar-item feelpp-logo">
        <a href="https://docs.feelpp.org"><img src="../../_/img/feelpp-logo.svg" alt="Feel++ logo"/></a>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item search hide-for-print">
          <form class="search">
            <i class="fa-solid fa-search"></i>
            <input type="text" placeholder="Search Feel++ Docs" class="query" id="search-query">
          </form>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Manuals</div>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://docs.feelpp.org/user/">User</a>
            <a class="navbar-item" href="https://docs.feelpp.org/dev/">Developer</a>
            <a class="navbar-item" href="https://docs.feelpp.org/toolbox/">Toolbox</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link" data-title="Support">
            <span class="icon"><img src="../../_/img/octicons-24.svg#view-comment-discussion"></span>
          </div>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item has-icon" href="https://join.slack.com/t/feelpp/shared_invite/zt-2qe0q9hw-4pVbhohCXUE6Po9Ma8dbiQ" target="_blank" rel="noopener">
              <span class="icon"><img src="../../_/img/slack-icon.svg"></span>
              <span>Chat</span>
            </a>
            <a class="navbar-item has-icon" href="https://github.com/orgs/feelpp/discussions" target="_blank" rel="noopener">
              <span class="icon"><img src="../../_/img/octicons-16.svg#view-discussion-closed"></span>
              <span>Discussions</span>
            </a>
            <a class="navbar-item has-icon" href="https://github.com/feelpp" target="_blank" rel="noopener">
              <span class="icon"><img src="../../_/img/octicons-16.svg#view-mark-github"></span>
              <span>Source</span>
            </a>
            <a class="navbar-item has-icon" href="https://twitter.com/feelpp" target="_blank" rel="noopener">
              <span class="icon"><img src="../../_/img/octicons-16.svg#view-hash"></span>
              <span>Tweets</span>
            </a>
            <a class="navbar-item has-icon" href="https://github.com/feelpp/book.feelpp.org/issues/new">
              <span class="icon"><img src="../../_/img/octicons-16.svg#view-bug"></span>
              <span>Issues</span>
            </a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable download-item">
            <div class="navbar-item"><a href="../../user/latest/install/index.html" class="download-btn">Get Feel++</a></div>
        </div>
        <div class="navbar-item">
          <a class="navbar-brand"  href="https://www.cemosis.fr">
            <img class="cemosis-logo"  src="../../_/img/cemosis-logo.svg" alt="Cemosis logo"/>
          </a>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<a href="#" class="menu-expand-toggle"></a>
<div class="nav-container" data-component="toolboxes" data-version="0.110">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Feel++ Toolboxes Manual</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Feel++ Toolboxes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html#_introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="what-is-a-toolbox.html">What is a Toolbox</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="modeling-analysis-using-json-files.html">Modeling and Analysis using JSON files</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="parametrized-simulation-using-cfg-files.html">Parametrized Simulation using CFG files</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html#_monophysics_toolboxes">Monophysics Toolboxes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html#_multiphysics_toolboxes">Multiphysics Toolboxes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html#_hybrid_discontinuous_methods_toolboxes">Hybrid Discontinuous Methods Toolboxes</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="cfpdes/index.html">Coefficient Form PDEs</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cfpdes/introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cfpdes/toolbox.html">Toolbox</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cases/0.110/cfpdes/README.html">Cases and Benchmarks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="heat/index.html">Heat Transfer</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="heat/introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="heat/units.html">Units and Notations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="heat/theory.html">Theory</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="heat/glossary.html">Glossary</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="heat/toolbox.html">Toolbox</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="heat/heat.html">Application</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cases/0.110/heat/README.html">Cases and Benchmarks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="cfd/index.html">Computational Fluid Dynamics</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cfd/fluid.html">Application</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="cfd/toolbox.html">Toolbox</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cfd/toolbox.html#_models">Models</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cfd/toolbox.html#_materials">Materials</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cfd/toolbox.html#_boundary_conditions">Boundary Conditions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cfd/toolbox.html#_body_forces">Body Forces</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cfd/toolbox.html#_post_processing">Post-Processing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cfd/toolbox.html#_stabilization_methods">Stabilisation methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cfd/toolbox.html#_run_simulation">Running a CFD simulation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="cfd/theory.html">Theory of Laminar Flows</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cfd/theory.html#_notations">Notations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="cfd/theory.html#_equations">Equations</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="cfd/theory.html#_generalized_newtonian_fluid">Generalized Newtonian Fluid</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cfd/theory-turbulence.html">Theory of Turbulent Flows</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cases/0.110/cfd/README.html">Cases and Benchmarks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="csm/index.html">Computational Solid Mechanics</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="csm/solid.html">Application</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="csm/toolbox.html">Toolbox</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="csm/theory.html">Theory</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cases/0.110/csm/README.html">Cases and Benchmarks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="electric/index.html">Electrostatics</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="electric/electric.html">Application</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="electric/toolbox.html">Toolbox</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="electric/theory.html">Theory</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cases/0.110/electric/README.html">Cases and Benchmarks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="fsi/index.html">Fluid Structure Interaction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fsi/fsi.html">Application</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fsi/toolbox.html">Toolbox</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="fsi/theory.html">Theory</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fsi/theory.html#definitions">Definitions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fsi/theory.html#ale_map">ALE Map</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fsi/theory.html#fsi_model">Fluid and Structure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fsi/theory.html#coupling_conditions">Coupling conditions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fsi/theory.html#discretization">Discretization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fsi/theory.html#coupling_strategies">Coupling Strategies</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cases/0.110/fsi/README.html">Cases and Benchmarks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="heatfluid/index.html">Heat Transfer and Fluids</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="heatfluid/heatfluid.html">Application</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="heatfluid/toolbox.html">Toolbox</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="heatfluid/theory.html">Theory</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cases/0.110/heatfluid/README.html">Cases and Benchmarks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="thermoelectric/index.html">Thermo-Electric</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="thermoelectric/theory.html">Theory</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="thermoelectric/toolbox.html">Toolbox</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cases/0.110/thermoelectric/README.html">Cases and Benchmarks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="multifluid/index.html">Multifluid flow</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="multifluid/theory.html">Theory</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="multifluid/toolbox.html">Toolbox</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Maxwell</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="maxwell/index.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="maxwell/Maxwell.html">Theory of Maxwell equations</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="maxwell/Strategy.html">Solution Strategy for Maxwell equations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="maxwell/mqs/README.html">Maxwell quasi-static models</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="maxwell/mqs/AV.html">\(A-V\) Formulation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cases/0.110/maxwell/README.html">Cases and Benchmarks</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="hdg/index.html">Hybrid Discontinuous Methods</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="hdg/hdg_poisson.html">Poisson Application</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="hdg/mixedpoisson.html">Poisson Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="hdg/hdg_coupledpoisson.html">Coupled Poisson Application</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="hdg/mixedcoupledpoisson.html">Coupled Poisson Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="hdg/hdg_elasticity.html">Elasticity Application</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="hdg/mixedelasticity.html">Elasticity Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="hdg/theory.html">Theory of HdG methods</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cases/0.110/hdg/README.html">Cases and Benchmarks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="mso4sc/index.html">Feel++ Toolbox Cloud/HPC Web GUI</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mso4sc/account.html">Create a MSO4SC Portal Account</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mso4sc/portal.html">Overview of the MSO4SC Portal</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mso4sc/offer.html">Get Feel++ Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mso4sc/run.html">Run Feel++ Apps</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Feel++ Toolboxes Manual</span>
    <span class="version">0.110</span>
  </div>
  <ul class="components">
      <li class="component">
        <a class="title" href="../../user/latest/index.html">Feel++ User Manual</a>
          <ul class="versions">
              <li class="version is-latest">
                <a href="../../user/latest/index.html">latest</a>
              </li>
              <li class="version">
                <a href="../../user/0.110/index.html">0.110</a>
              </li>
              <li class="version">
                <a href="../../user/0.109/index.html">0.109</a>
              </li>
          </ul>
      </li>
      <li class="component">
        <a class="title" href="../../dev/latest/index.html">Developer manual</a>
          <ul class="versions">
              <li class="version is-latest">
                <a href="../../dev/latest/index.html">latest</a>
              </li>
              <li class="version">
                <a href="../../dev/0.110/index.html">0.110</a>
              </li>
              <li class="version">
                <a href="../../dev/0.109/index.html">0.109</a>
              </li>
          </ul>
      </li>
      <li class="component">
        <a class="title" href="../../data/latest/index.html">Data Manual</a>
          <ul class="versions">
              <li class="version is-latest">
                <a href="../../data/latest/index.html">latest</a>
              </li>
              <li class="version">
                <a href="../../data/0.110/index.html">0.110</a>
              </li>
              <li class="version">
                <a href="../../data/0.109/index.html">0.109</a>
              </li>
          </ul>
      </li>
      <li class="component">
        <a class="title" href="../../math/index.html">Feel++ Mathematics</a>
      </li>
      <li class="component is-current">
        <a class="title" href="../latest/index.html">Feel++ Toolboxes Manual</a>
          <ul class="versions">
              <li class="version is-latest">
                <a href="../latest/index.html">latest</a>
              </li>
              <li class="version is-current">
                <a href="index.html">0.110</a>
              </li>
              <li class="version">
                <a href="../0.109/index.html">0.109</a>
              </li>
          </ul>
      </li>
      <li class="component">
        <a class="title" href="../../cases/0.110/index.html">Feel++ Toolbox Cases Guide</a>
          <ul class="versions">
              <li class="version">
                <a href="../../cases/latest/index.html">latest</a>
              </li>
              <li class="version is-latest">
                <a href="../../cases/0.110/index.html">0.110</a>
              </li>
              <li class="version">
                <a href="../../cases/0.109/index.html">0.109</a>
              </li>
          </ul>
      </li>
      <li class="component">
        <a class="title" href="../../angiotk/0.1/index.html">AngioTK User Manual</a>
          <ul class="versions">
              <li class="version is-latest">
                <a href="../../angiotk/0.1/index.html">0.1</a>
              </li>
          </ul>
      </li>
      <li class="component">
        <a class="title" href="../../salome/current/index.html">Feel++ and Salome</a>
          <ul class="versions">
              <li class="version is-latest">
                <a href="../../salome/current/index.html">current</a>
              </li>
          </ul>
      </li>
      <li class="component">
        <a class="title" href="../../feelpp/0.110/index.html">Feel++ Documentation</a>
          <ul class="versions">
              <li class="version is-latest">
                <a href="../../feelpp/0.110/index.html">0.110</a>
              </li>
              <li class="version">
                <a href="../../feelpp/0.109/index.html">0.109</a>
              </li>
          </ul>
      </li>
      <li class="component">
        <a class="title" href="../../feelpp-tutorial-dev/index.html">Feel++ Programming Tutorial</a>
      </li>
      <li class="component">
        <a class="title" href="../../feelpp-project/index.html">Feel++ Project</a>
      </li>
      <li class="component">
        <a class="title" href="../../mor/latest/index.html">Model Order Reduction</a>
          <ul class="versions">
              <li class="version is-latest">
                <a href="../../mor/latest/index.html">latest</a>
              </li>
              <li class="version">
                <a href="../../mor/0.110/index.html">0.110</a>
              </li>
              <li class="version">
                <a href="../../mor/0.109/index.html">0.109</a>
              </li>
          </ul>
      </li>
      <li class="component">
        <a class="title" href="../../contribute/index.html">Toolbox Contribution Guide</a>
          <ul class="versions">
              <li class="version is-latest">
                <a href="../../contribute/index.html">master</a>
              </li>
          </ul>
      </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
    <a href="../../home/index.html" class="home-link"></a>
  <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Feel++ Toolboxes Manual</a></li>
    <li><a href="index.html">Feel++ Toolboxes</a></li>
    <li><a href="modeling-analysis-using-json-files.html">Modeling and Analysis using JSON files</a></li>
  </ul>
</nav>

  <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">0.110</button>
  <div class="version-menu">
    <a class="version" href="../latest/modeling-analysis-using-json-files.html">latest</a>
    <a class="version is-current" href="modeling-analysis-using-json-files.html">0.110</a>
    <a class="version" href="../0.109/modeling-analysis-using-json-files.html">0.109</a>
  </div>
</div>

    <div class="edit-this-page"><a href="https://github.com/feelpp/book.feelpp.org/blob/v0.110/docs/toolboxes/modules/ROOT/pages/modeling-analysis-using-json-files.adoc">Edit this Page</a></div>
  
  <div class="page-downloads">
  <span class="label">Download as</span>
  <ul class="download-options">
    <li>
      <a onclick="print(this)" href="#" data-toggle="tooltip" data-placement="left" title="Print to PDF"
         class="pdf-download">
        <img class="pdf-file-icon icon" src="../../_/img/pdf.svg"/> .pdf
      </a>
    </li>
  </ul>
</div>
</div>

  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Modeling and Analysis using the JSON files</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Model JSON (<code>.json</code>) files allow to configure a set of partial differential equations, more precisely they define:</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> <a href="#_names">Names</a></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <a href="#_models">Models</a></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <a href="#_parameters">Parameters</a></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <a href="#_meshes">Meshes</a></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <a href="#_materials">Materials</a></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <a href="#_initialconditions">Initial Conditions</a></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <a href="#_boundaryconditions">Boundary conditions</a></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <a href="#_postprocessing">Post processing</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_names"><a class="anchor" href="#_names"></a>1. Names</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A model JSON file starts by giving names (long and short).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Name": "Turek-Hron cfd2", <i class="conum" data-value="1"></i><b>(1)</b>
"ShortName":"cfd2", <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Name of the example, usually printed on-screen and in log files during simulations</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Short name of the example, it is used to create directories to store the results of the simulation of the model</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These names are not used currently, but it should be the case in the future.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_models"><a class="anchor" href="#_models"></a>2. Models</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The goal of section <code>Models</code> is to describe the models used by the toolbox (i.e. physical or mathematical model).
These models will be attached to one or several materials defined in the Materials sections.
This section is fully linked to the model, you need to refer to the related toolbox documentation.
In the following, we will only describe the common parts to of models.</p>
</div>
<div class="sect2">
<h3 id="_basic_usage"><a class="anchor" href="#_basic_usage"></a>2.1. Basic usage</h3>
<div class="paragraph">
<p>We start with this simple example composed of only one model :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Models": <i class="conum" data-value="1"></i><b>(1)</b>
{
  "heat":<i class="conum" data-value="2"></i><b>(2)</b>
  {
     "name":"heatOnIron", <i class="conum" data-value="3"></i><b>(3)</b>
     "materials":"iron", <i class="conum" data-value="4"></i><b>(4)</b>
     "setup":{ /* TO FILL*/ } <i class="conum" data-value="5"></i><b>(5)</b>
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>start section <code>Models</code> defined by the toolbox to define the main configuration and particularly the set of equations to be solved</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>toolbox keyword that allows identifying the kind of model</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>name of the model (this is an optional argument)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>material names where this model is applied (value can be a string or an array of string)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>JSON object where the model setup is defined (<code>setup</code> keyword can be substituted by <code>equation</code> or <code>equations</code>)</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For some toolboxes, if the <code>setup</code> JSON object is not given then the model is still configured with default properties.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>materials</code> entry is not given then the model is applied to the whole domain (i.e. mesh).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For a given type of model (i.e. toolbox keyword), you can define several models by passing an array of JSON objects.
The snippet JSON below shows the definition of two heat models :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Models":
{
  "heat":<i class="conum" data-value="1"></i><b>(1)</b>
  [{
     "name":"heatOnIron", <i class="conum" data-value="2"></i><b>(2)</b>
     "materials":"iron", <i class="conum" data-value="3"></i><b>(3)</b>
     "setup":{ /* TO FILL*/ }
  },
  {
     "name":"heatOnCopper", <i class="conum" data-value="4"></i><b>(4)</b>
     "materials":"copper", <i class="conum" data-value="5"></i><b>(5)</b>
     "setup":{ /* TO FILL*/ }
  }]
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>toolbox keyword</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>name given to <code>heat</code> model</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>name of material where the model <code>heatOnIron</code> is applied</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>name given to another `heat`model</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>name of material where the model <code>heatOnCopper</code> is applied</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>For a given type of model, several models can&#8217;t have the same name</p>
</li>
<li>
<p>For a given type of model, each model defined should have a null intersection between materials</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_multiphysics"><a class="anchor" href="#_multiphysics"></a>2.2. Multiphysics</h3>
<div class="paragraph">
<p>In multiphysic context, &#8230;&#8203;</p>
</div>
</div>
<div class="sect2">
<h3 id="_factorization"><a class="anchor" href="#_factorization"></a>2.3. Factorization</h3>
<div class="paragraph">
<p>When using several models, each linked to materials, some JSON parts can be redundant. The idea is to apply a JSON merge_patch from a common part into each specific part.</p>
</div>
<div class="paragraph">
<p>For example, we consider this JSON section :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Models": {
  "heat":[{ <i class="conum" data-value="1"></i><b>(1)</b>
     "name":"heat_PCB",
     "materials":"PCB",
     "setup":{
        "unknown":{
           "basis":"Pch1",
           "name":"temperature",
           "symbol":"T"
        },
        "coefficients":{
           "c":"materials_PCB_k:materials_PCB_k"
        }
     }
  },{ <i class="conum" data-value="2"></i><b>(2)</b>
      "name":"heat_AIR",
      "materials":"AIR",
      "setup":{
         "unknown":{
            "basis":"Pch1",
            "name":"temperature",
            "symbol":"T"
         },
         "coefficients":{
            "c":"materials_AIR_k:materials_AIR_k",
            "beta":"{0,(x-0.008)*(x-0.054)}:x"
         }
     }
  }]
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>start JSON object of first model called <code>heat_PCB</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>start JSON object of second model called <code>heat_AIR</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In these two models, we can see that some parts of the JSON are identical. We can avoid this duplication by defining a common part.
The previous example can be rewritten as :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Models": {
  "heat":{
     "common":{ <i class="conum" data-value="1"></i><b>(1)</b>
        "setup":{
           "unknown":{
              "basis":"Pch1",
              "name":"temperature",
              "symbol":"T"
           }
        }
     },
     "models":[{ <i class="conum" data-value="2"></i><b>(2)</b>
         "name":"heat_PCB",
         "materials":"PCB",
         "setup":{
            "coefficients":{
               "c":"materials_PCB_k:materials_PCB_k"
            }
         }
       },{ <i class="conum" data-value="3"></i><b>(3)</b>
         "name":"heat_AIR",
         "materials":"AIR",
            "setup":{
               "coefficients":{
                  "c":"materials_AIR_k:materials_AIR_k",
                  "beta":"{0,(x-0.008)*(x-0.054)}:x"
               }
            }
       }]
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>start JSON object representing common part</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>start JSON object of first model called <code>heat_PCB</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>start JSON object of second model called <code>heat_AIR</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Each model will be set up by generating a JSON with a merge patch applied from the common part with the current JSON object of the model.
Thanks to JSON merge patch properties, the value of the common part can be overridden.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_expressions"><a class="anchor" href="#_expressions"></a>3. Expressions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Various json fields may hold mathematical expressions that will be evaluated by Feel&#43;&#43;.
There are reserved keywords that cannot be used as parameter or field names.
They are listed in the following table</p>
</div>
<table id="reserved-keywords" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Table of reserved keywords</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keyword</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">current time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"expt": "exp(t):t"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x</code>, <code>y</code>, <code>z</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the coordinates of the current point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"foo":"sin(x+y+z):x:y:z"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nx</code>, <code>ny</code>, <code>nz</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the components of normal vector at the current point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"foo":"sin(nx+nyy+nz):nx:ny:nz"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>h</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">smallest edge of the current convex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"foo":"2*h:h"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>meas</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">measure of the current element</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"foo":"2*h/meas:h:meas"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>emarker</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">marker of the current element</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"foo":"2*h*(emarker==1)+ h*(emarker==2):h"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>measPEN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">measure of the union of elements to which a vertex belongs (P1 Lagrange only)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nPEN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number of elements to which the current vertex belongs (P1 Lagrange only)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_expressions_2"><a class="anchor" href="#_expressions_2"></a>4. Expressions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Various json fields may hold mathematical expressions that will be evaluated by Feel&#43;&#43;.
There are reserved keywords that cannot be used as parameter or field names.
They are listed in the following table</p>
</div>
<table id="reserved-keywords" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Table of reserved keywords</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keyword</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">current time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"expt": "exp(t):t"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x</code>, <code>y</code>, <code>z</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the coordinates of the current point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"foo":"sin(x+y+z):x:y:z"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nx</code>, <code>ny</code>, <code>nz</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the components of normal vector at the current point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"foo":"sin(nx+nyy+nz):nx:ny:nz"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>h</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">smallest edge of the current convex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"foo":"2*h:h"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>meas</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">measure of the current element</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"foo":"2*h/meas:h:meas"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>emarker</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">marker of the current element</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"foo":"2*h*(emarker==1)+ h*(emarker==2):h"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>measPEN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">measure of the union of elements to which a vertex belongs (P1 Lagrange only)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nPEN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number of elements to which the current vertex belongs (P1 Lagrange only)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_parameters"><a class="anchor" href="#_parameters"></a>5. Parameters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section of the Model JSON file defines the parameters that may enter inside symbolic expressions (as symbols) used in the subsequent sections.</p>
</div>
<div class="listingblock">
<div class="title">Example of a <code>Parameters</code> section</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Parameters": <i class="conum" data-value="1"></i><b>(1)</b>
    {
        "ubar":"1.0", <i class="conum" data-value="2"></i><b>(2)</b>
        "alpha":"2*ubar:ubar", <i class="conum" data-value="3"></i><b>(3)</b>
        "beta":"{3*alpha,ubar}:alpha:ubar", <i class="conum" data-value="4"></i><b>(4)</b>
        "chi":"t&lt;2:t", <i class="conum" data-value="5"></i><b>(5)</b>
        "pIn": <i class="conum" data-value="6"></i><b>(6)</b>
        {
            "type":"fit", <i class="conum" data-value="7"></i><b>(7)</b>
            "filename":"$cfgdir/pin.csv", <i class="conum" data-value="8"></i><b>(8)</b>
            "abscissa":"time", <i class="conum" data-value="9"></i><b>(9)</b>
            "ordinate":"pressure", <i class="conum" data-value="10"></i><b>(10)</b>
            "interpolation":"P1", <i class="conum" data-value="11"></i><b>(11)</b>
            "expr":"10*t+3:t" <i class="conum" data-value="12"></i><b>(12)</b>
        }
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>name of the section</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>defines a new parameter <code>ubar</code> and its associated value</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>defines a new parameter <code>alpha</code> and its associated expression. This expression depends on another symbol, here the parameter <code>ubar</code>. The symbol defined by this new parameter is also called <code>alpha</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>defines a new parameter <code>beta</code> and its associated expression. Here the expression is vector of dimension 2. Consequently, symbols generated by this new parameter are <code>beta_0</code> and <code>beta_1</code> (Currently we cannot use a vector as a symbol).</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>defines a new parameter <code>chi</code> and its associated expression</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>defines a new parameter <code>pIn</code> and its definition is given in the subsection below</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>the type of parameter is fit</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>the filename of a csv file used for the fitting</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>column name of csv file used in abscissa</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>column name of csv file used in ordinate</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>interpolation type of the fit. Possible values are : <code>P0</code>, <code>P1</code>, <code>Spline</code>, <code>Akima</code></td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td>expression used in order to read the fitted value
<div class="dlist">
<dl>
<dt class="hdlist1">NOTE</dt>
<dd>
<p>the reserved keywords listed in the table <a href="#reserved-keywords">Table of reserved keywords</a> cannot be used to name parameters, they can only be used in expressions.</p>
</dd>
</dl>
</div></td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_meshes"><a class="anchor" href="#_meshes"></a>6. Meshes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The meshes section allow to define properties related to meshes used in toolboxes.
In this json section, you can create one or several subsections with a name corresponding to an mesh identification (typically the keyword associated to a toolbox).
For example, the next code snippet is defined wtih 3 names : <code>heat</code>, <code>fluid</code> and <code>heatfluid</code></p>
</div>
<div class="listingblock">
<div class="title">Example of Meshes section skeleton</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "Meshes": {
    "heat": {
      // TO FILL, SEE BELOW
    },
    "fluid": {
      // TO FILL, SEE BELOW
    },
    "heatfluid": {
      // TO FILL, SEE BELOW
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In each subsection, mesh propreties and data will be defined. Currently, we can have</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Import</p>
</li>
<li>
<p>Fields</p>
</li>
<li>
<p>DistanceToRange</p>
</li>
<li>
<p>Data</p>
</li>
<li>
<p>MeshMotion</p>
</li>
<li>
<p>MeshAdaptation</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_import_section"><a class="anchor" href="#_import_section"></a>6.1. Import section</h3>
<div class="paragraph">
<p>This section allow to define mesh importation properties. Generally, this is the keyword of the toolbox used.</p>
</div>
<div class="listingblock">
<div class="title">Example of Meshes Import section</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "Meshes": {
    "heat": {
      "Import": {
        "filename": "$cfgdir/thermo2dCase2.geo",
        "hsize": 0.001
      }
    }
  }
}</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Table of Meshes Import parameters</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>filename</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">path of a mesh file or geo file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hsize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">floating number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if a geo file is used, this parameter can modify the characteristic mesh size</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>partition</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if a mesh file is used, set to true (or 1) will apply the mesh partitioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>number-of-partition</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number of partition applied with  the mesh partitioning (default value is the number of processus)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_distancetorange_section"><a class="anchor" href="#_distancetorange_section"></a>6.2. DistanceToRange section</h3>
<div class="paragraph">
<p>The goal of DistanceToRange is to computed distance functions from a list of marked faces.
These functions will be available in expression through symbols.</p>
</div>
<div class="paragraph">
<p>For adding the computation of a distance function, you should defined a json object including the <code>markers</code> listing.
The key of this json objet is a name given to the distance function.</p>
</div>
<div class="paragraph">
<p>The optional parameter <code>max_distance</code> is used to compute distance only for smallest distance less than this value.
This parameter is expressed by a number or an string expression (expression should be evaluable).</p>
</div>
<div class="listingblock">
<div class="title">Example of Meshes DistanceToRange section</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "Meshes": {
    "heat": {
      "DistanceToRange": {
        "wall1": {
          "markers": [
            "Floor",
            "Ceiling",
            "Hot_Wall",
            "Cold_Wall"
          ]
        },
        "wall2": {
          "markers": [
            "Floor",
            "Ceiling"
          ],
          "max_distance":"0.3*u:u"
        }
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example above will generate 2 new symbols called <code>meshes_heat_distanceToRange_wall1</code> and <code>meshes_heat_distanceToRange_wall2</code>.</p>
</div>
<div class="paragraph">
<p>More generally, the symbols will be defined by <code>meshes_&lt;mesh_id&gt;_distanceToRange_&lt;d2r_id&gt;</code> avec <code>&lt;mesh_id&gt;</code> the mesh identification and <code>&lt;d2r_id&gt;</code> the name given to the distance function.</p>
</div>
<div class="paragraph">
<p>Also, some normalized fields can be generated by using the next methods.
We denote by \(f\) the distance function computed and \(g\) a normalization of \(f\).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Min-Max :</p>
</li>
</ul>
</div>
<div class="stemblock">
<div class="content">
\[g(f)=a+\frac{\left(f-min(f)\right)\left(b-a\right)}{max(f)-min(f)}\]
</div>
</div>
<div class="paragraph">
<p>with reals \(a\) and \(b\) (should verify \(a&lt;b\)) specifying the range of values (default \([0,1\)]).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mean :</p>
</li>
</ul>
</div>
<div class="stemblock">
<div class="content">
\[g(f)=\frac{f-average(f)}{max(f)-min(f)}\]
</div>
</div>
<div class="listingblock">
<div class="title">Example 1 of DistanceToRange normalisation setup</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "DistanceToRange": {
    "walls": {
      "markers": [
        "wall1",
        "wall2"
      ],
      "normalization": [
        "min_max",
        "mean"
      ]
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The previous snippet JSON will generate two normalizations of the distance function by using :
* min_max method with default range \(\left[0,1\rifht\)] : generated symbol is <code>meshes_&lt;mesh_id&gt;_distanceToRange_walls_normalized_min_max</code>.
* mean method : generated symbol is <code>meshes_&lt;mesh_id&gt;_distanceToRange_walls_normalized_mean</code>.</p>
</div>
<div class="listingblock">
<div class="title">Example 2 of DistanceToRange normalisation setup</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "normalization": {
    "type": "min_max",
    "range": [1,2]
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The previous snippet JSON will generated one normalization Min-Max of the distance function on interval \(\left[1,2\rifht\)].</p>
</div>
<div class="listingblock">
<div class="title">Example 3 of DistanceToRange normalisation setup</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "normalization": [
    {
      "type": "min_max",
      "name": "mm0",
      "range": [1,2]
    },
    {
      "type": "min_max",
      "name": "mm1",
      "range": ["4","5"]
    },
    {
      "type": "mean"
    }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The previous snippet JSON will generate the 3 symbols representing 3 normalizations of the distance function :
<code>meshes_&lt;mesh_id&gt;_distanceToRange_walls_normalized_mm0</code>, <code>meshes_&lt;mesh_id&gt;_distanceToRange_walls_normalized_mm1</code> and <code>meshes_&lt;mesh_id&gt;_distanceToRange_walls_normalized_mean</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_fields_section"><a class="anchor" href="#_fields_section"></a>6.3. Fields section</h3>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect2">
<h3 id="_data_section"><a class="anchor" href="#_data_section"></a>6.4. Data section</h3>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect2">
<h3 id="_meshmotion"><a class="anchor" href="#_meshmotion"></a>6.5. MeshMotion</h3>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect2">
<h3 id="_meshadaptation"><a class="anchor" href="#_meshadaptation"></a>6.6. MeshAdaptation</h3>
<div class="paragraph">
<p>During the simulation process, the mesh can be adapated when some events happen. The mesh will be adapted according to a metric provide by the user.
Some constraints can be also defined as required entities.</p>
</div>
<div class="sect3">
<h4 id="_metric"><a class="anchor" href="#_metric"></a>6.6.1. Metric</h4>
<div class="paragraph">
<p>The metric is given throw the JSON key <code>metric</code>.
The value is a string corresponding to a symbolic expression (currently only scalar).</p>
</div>
</div>
<div class="sect3">
<h4 id="_constraints"><a class="anchor" href="#_constraints"></a>6.6.2. Constraints</h4>
<div class="paragraph">
<p>If some entities to the current mesh are required in the adapted mesh, the JSON should contain a key-value entry with the key <code>required_markers</code>.
The value can be a string or a string array corresponding to the marker names of these entities.</p>
</div>
</div>
<div class="sect3">
<h4 id="_events"><a class="anchor" href="#_events"></a>6.6.3. Events</h4>
<div class="paragraph">
<p>Events that can execute an adaptation of the mesh :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>after_import</code>: just after the mesh has been imported (WARNING, should not be used if some data (as an initial condition) are defined on the initial mesh).</p>
</li>
<li>
<p><code>after_init</code> : when the toolbox is initialized.</p>
</li>
<li>
<p><code>each_time_step</code>: after each time step, if a boolean condition is verified (freq, times&#8230;&#8203;), the mesh adaption is performed.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example of Meshes MeshAdaptation section</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "MeshAdaptation": {
    "metric": "mymetric:mymetric", <i class="conum" data-value="1"></i><b>(1)</b>
    "required_markers": "wall", <i class="conum" data-value="2"></i><b>(2)</b>
    "events": { <i class="conum" data-value="3"></i><b>(3)</b>
      "after_import": {},
      "after_init": {},
      "each_time_step": {
        "frequency": 4
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>the metric given as an expression</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>constraint of required markers</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>defines the events after_import and each_time_step</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_setup_of_event_each_time_step"><a class="anchor" href="#_setup_of_event_each_time_step"></a>6.6.4. Setup of event <code>each_time_step</code></h4>
<div class="paragraph">
<p>Currently, only <code>frequency</code> property, it should be an integer.</p>
</div>
</div>
<div class="sect3">
<h4 id="_setup_multiples_mesh_adaptations"><a class="anchor" href="#_setup_multiples_mesh_adaptations"></a>6.6.5. Setup multiples mesh adaptations</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "MeshAdaptation": [
    {
      "metric": "mymetric1:mymetric1",
      "events": {
        "after_init": {}
      }
    },
    {
      "metric": "mymetric2:mymetric2",
      "required_markers": [
        "wall1",
        "wall2"
      ],
      "events": {
        "each_time_step": {
          "frequency": 4
        }
      }
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_advanced_remesher_setup"><a class="anchor" href="#_advanced_remesher_setup"></a>6.6.6. Advanced remesher setup</h4>
<div class="paragraph">
<p>A JSON section called <code>setup</code> can be added for customize the remesher configuration. This section can contains the next properties :</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Table of advanced remesher parameters</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>verbose</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[-1..10], Tune level of verbosity (-1 is no verbose)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>debug</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Turn on/off debug mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hmin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">real</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hmax</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">reals</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nosizreq</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hgradreq</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nosurf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>opnbdy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>angle</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hausd</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">real</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Example with advanced remesher setup</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "MeshAdaptation": {
    "metric": "mymetric1:mymetric1",
    "required_markers": [
      "wall1",
      "wall2"
    ],
    "events": {
      "after_init": {}
    },
    "setup": {
      "verbose": -1,
      "opnbdy": 1
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_materials"><a class="anchor" href="#_materials"></a>7. Materials</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section of the Model JSON file defines material properties linking the Physical Entities in the mesh data structures to these properties.</p>
</div>
<div class="listingblock">
<div class="title">Example of Materials section</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Materials":
    {
        "Water": <i class="conum" data-value="1"></i><b>(1)</b>
        {
            "physics":"heat-fluid", <i class="conum" data-value="2"></i><b>(2)</b>
            "markers":"[marker1,marker2]", <i class="conum" data-value="3"></i><b>(3)</b>
            "rho":"1.0e3", <i class="conum" data-value="4"></i><b>(4)</b>
            "mu":"1.0" <i class="conum" data-value="5"></i><b>(5)</b>
            "k":"5.0" <i class="conum" data-value="6"></i><b>(6)</b>
        },
        "Beam": <i class="conum" data-value="7"></i><b>(7)</b>
        {
            "physics":"heat",
            "markers":"marker3",
            "rho":"3.3e7",
            "k":"1.0e2"
        }
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>gives the name of a material.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>defined which kind of physics is applied in this material. This is an optional section, by default all physics are applied. The value can be also a vector of physic.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>defined mesh marker(s) where the material properties are applied. This is an optional section, by default the marker is take as the name &lt;1&gt;.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>density \(\rho\) is called <code>rho</code> and is given in SI units.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>viscosity \(\mu\) is called <code>mu</code> and is given in SI units.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>thermal conductivity is called <code>k</code> and is given in SI units.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>start definition of another material nammed <code>Beam</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We can define an arbitrary number of material properties but some names are reserved. The names reserved are :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>for all materials : <code>name</code>, <code>physics</code>, <code>markers</code>, <code>filename</code></p>
</li>
<li>
<p>properties defined by the physic used. For example with <code>heat</code> physic : <code>rho</code>, <code>k</code>, <code>Cp</code>, <code>beta</code>, &#8230;&#8203; See specific toolbox documentation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The material property can be define by a scalar, vector (dim 2 or 3) or square matrix (dim 2 or 3). For the material properties defined from the physic, the shape of the expression is imposed.
For example, the density should be scalar, the thermal conductivity should be a scalar or a matrix (not a vector). See also the specific toolbox documentation.</p>
</div>
<div class="paragraph">
<p>Moreover, each material property can be used inside symbolic expressions (as symbols). Depending to shape of expression, the symbols are defined as follow :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>scalar expression : <code>materials_&lt;matName&gt;_&lt;propName&gt;</code></p>
</li>
<li>
<p>vectorial expression : <code>materials_&lt;matName&gt;_&lt;propName&gt;_0</code>, <code>materials_&lt;matName&gt;_&lt;propName&gt;_1</code>, <code>materials_&lt;matName&gt;_&lt;propName&gt;_2</code></p>
</li>
<li>
<p>matrix expression : <code>materials_&lt;matName&gt;_&lt;propName&gt;_00</code>, <code>materials_&lt;matName&gt;_&lt;propName&gt;_01</code>, <code>materials_&lt;matName&gt;_&lt;propName&gt;_10</code>, <code>materials_&lt;matName&gt;_&lt;propName&gt;_1</code> (and also the third component with matrix dim=3)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>with <code>&lt;matName&gt;</code> the name given to the material and <code>&lt;propName&gt;</code> the name of the material property.
In addition, we generate also symbols of material properties without the material names, i.e. of the form <code>materials_&lt;propName&gt;</code> (and potentially the component suffix 0,1,01,&#8230;&#8203;).
In the context of one material only, it represents exactly the same symbol as before (with the material name).
But, in multi-materials context, a property that appears in several materials can be express by this unique symbol. The expression it will represent will be defined according to its context of use.
For example, if we integrate over the mesh, this symbol will be the property of Water for the marked elements related to Water and the property of Beam for the marked elements related to Beam.</p>
</div>
<div class="paragraph">
<p>If we take the previous example, the symbols available will be :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>by material : <code>materials_Water_rho</code>, <code>materials_Water_mu</code>, <code>materials_Water_k</code>, <code>materials_Beam_rho</code>, <code>materials_Beam_k</code></p>
</li>
<li>
<p>globally : <code>materials_rho</code>, <code>materials_mu</code>, <code>materials_k</code></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The use of global symbols can have a little bit cost compare to the symbols containing the material name.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In a material subsection, we can use direclty a symbol name belonging to this subsection without needing to add the prefix <code>materials_&lt;matName&gt;</code>.
For example, we can defined these materials :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Materials":
{
    "Cu":
    {
        "alpha":326, <i class="conum" data-value="1"></i><b>(1)</b>
        "sigma":12, <i class="conum" data-value="2"></i><b>(2)</b>
        "k":"3*sigma+alpha:sigma:alpha" <i class="conum" data-value="3"></i><b>(3)</b>
    },
    "Fe":
    {
        "alpha":26,
        "sigma":87,
        "k":"sigma-alpha:sigma:alpha"
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>define the symbol parameter <code>materials_Cu_alpha</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>define the symbol parameter <code>materials_Cu_sigma</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>define the symbol parameter <code>materials_Cu_k</code> depending on <code>sigma</code> (alias of <code>materials_Cu_alpha</code>) and sigma (alias of <code>materials_Cu_sigma</code>)</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the symbol is already defined inside the Parameters section, the alias symbol override this latter.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_initialconditions"><a class="anchor" href="#_initialconditions"></a>8. InitialConditions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section of the Model JSON file defines initial conditions. Depending on the type of model :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>if we use a transient model, it corresponds to the initial conditions of the time scheme applied</p>
</li>
<li>
<p>if we use a steady model, it corresponds to the initial guess given to the solver</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As shown below, there are two ways to define initial conditions: either by using mathematical expressions or by using a file.</p>
</div>
<div class="listingblock">
<div class="title">Example of a <code>InitialConditions</code> defined from mathematical expressions</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"InitialConditions":
{
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
    "temperature": <i class="conum" data-value="1"></i><b>(1)</b>
    {
        "Expression": <i class="conum" data-value="2"></i><b>(2)</b>
        {
            "myic1": <i class="conum" data-value="3"></i><b>(3)</b>
            {
                "markers":"Omega1", <i class="conum" data-value="4"></i><b>(4)</b>
                "expr":"293" <i class="conum" data-value="5"></i><b>(5)</b>
            },
            "myic2": <i class="conum" data-value="6"></i><b>(6)</b>
            {
                "markers":["Omega2,Omega3]", <i class="conum" data-value="7"></i><b>(7)</b>
                "expr":"305*x*y:x:y"  <i class="conum" data-value="8"></i><b>(8)</b>
            }
        }
    }
=======
   "heat": { <i class="conum" data-value="1"></i><b>(1)</b>
      "temperature": { <i class="conum" data-value="2"></i><b>(2)</b>
          "Expression": <i class="conum" data-value="3"></i><b>(3)</b>
          {
              "myic1": <i class="conum" data-value="4"></i><b>(4)</b>
              {
                 "markers":"Omega1", <i class="conum" data-value="5"></i><b>(5)</b>
                 "expr":"293" <i class="conum" data-value="6"></i><b>(6)</b>
              },
              "myic2": <i class="conum" data-value="7"></i><b>(7)</b>
              {
                 "markers":["Omega2","Omega3"], <i class="conum" data-value="8"></i><b>(8)</b>
                 "expr":"305*x*y:x:y"  <i class="conum" data-value="9"></i><b>(9)</b>
              },
              "myic3":
              {
                  "expr":"302",
                  "time":-0.1 <i class="conum" data-value="10"></i><b>(10)</b>
              }
          }
      }
   }
&gt;&gt;&gt;&gt;&gt;&gt;&gt; origin/develop
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>the keyword of a toolbox</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>the field name of the toolbox to which the initial condition is associated</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>the type of boundary condition to apply, here <code>Expression</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>a name that identifies an initial condition imposed on a field</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>the name of the marker (or a list of markers) where an expression is imposed as an initial condition.
The markers can represent any kind of entity (Elements/Faces/Edges/Points).
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
If this entry is not given, the expression is applied on the mesh support of the field.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>an expression which is applied to the field</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>another name that identifies an initial condition</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>idem as &lt;4&gt;</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>idem as &lt;5&gt;</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>If this entry is not given, the expression is applied to the mesh support of the field.
&lt;6&gt; an expression that is applied to the field
&lt;7&gt; another name that identifies an initial condition
&lt;8&gt; idem as &lt;4&gt;
&lt;9&gt; idem as &lt;5&gt;
&lt;10&gt; time to apply the initial condition, if not present time=0
&gt;&gt;&gt;&gt;&gt;&gt;&gt; origin/develop</p>
</div>
<div class="listingblock">
<div class="title">Example of a <code>InitialConditions</code> section defined from a file</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"InitialConditions":
{
   "heat":{ <i class="conum" data-value="1"></i><b>(1)</b>
      "temperature": <i class="conum" data-value="2"></i><b>(2)</b>
      {
          "File": <i class="conum" data-value="3"></i><b>(3)</b>
          {
             "myic": <i class="conum" data-value="4"></i><b>(4)</b>
             {
                "filename":"$home/feel/toolboxes/heat/temperature.h5", <i class="conum" data-value="5"></i><b>(5)</b>
                "format":"hdf5" <i class="conum" data-value="6"></i><b>(6)</b>
             }
          }
      }
   }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>the keyword of a toolbox</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>the field name of the toolbox to which the initial condition is associated</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>the type of boundary condition to apply, here <code>File</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>a name that identifies an initial condition imposed on a field</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>a file that represents a field saved (<strong>WARNING</strong> : must be compatible with the current mesh and partitioning)</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>the format of the file read (possible values are "default","hdf5","binary","text"). It&#8217;s an optional entry, the default value is chosen by Feel++ (it&#8217;s "hdf5" if Feel++ was compiled with hdf5 library).</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p>
</div>
</div>
</div>
<div class="paragraph">
<p>When using, high order time discretization, we need more than \(t=t_0\) to initialize, we may also need \(t_0-\Delta t, t_0-2*\Delta t,...\).<br>
If you give an expression dependent on <code>t</code>, it will be evaluated with the time needed by the time discretization.<br>
If you give several initial conditions for different <code>time</code>, we will use the first condition for which the time is not less than the time needed (if you give two conditions with <code>time=0</code> and <code>time=-1</code> and we need <code>t=0</code>, <code>t=-0.75</code> and <code>t=-1.5</code>, the first condition will be used for the first two times, and the second condition will be used for the last).
&gt;&gt;&gt;&gt;&gt;&gt;&gt; origin/develop</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_boundaryconditions"><a class="anchor" href="#_boundaryconditions"></a>9. BoundaryConditions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section of the Model JSON file defines the boundary conditions.</p>
</div>
<div class="listingblock">
<div class="title">Example of a <code>BoundaryConditions</code> section</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"BoundaryConditions":
    {
        "velocity":  <i class="conum" data-value="1"></i><b>(1)</b>
        {
            "Dirichlet": <i class="conum" data-value="2"></i><b>(2)</b>
            {
                "inlet": <i class="conum" data-value="3"></i><b>(3)</b>
                {
                    "expr":"{ 1.5*ubar*(4./0.1681)*y*(0.41-y),0}:ubar:y" <i class="conum" data-value="4"></i><b>(4)</b>
                },
                "wall1": <i class="conum" data-value="5"></i><b>(5)</b>
                {
                    "expr":"{0,0}" <i class="conum" data-value="6"></i><b>(6)</b>
                },
                "wall2": <i class="conum" data-value="7"></i><b>(7)</b>
                {
                    "expr":"{0,0}" <i class="conum" data-value="8"></i><b>(8)</b>
                }
            }
        },
        "fluid": <i class="conum" data-value="9"></i><b>(9)</b>
        {
            "outlet": <i class="conum" data-value="10"></i><b>(10)</b>
            {
                "outlet": <i class="conum" data-value="11"></i><b>(11)</b>
                {
                    "expr":"0" <i class="conum" data-value="12"></i><b>(12)</b>
                }
            }
        }
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>the field name of the toolbox to which the boundary condition is associated</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>the type of boundary condition to apply, here <code>Dirichlet</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>the physical entity (associated to the mesh) to which the condition is applied</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>the mathematical expression associated to the condition, note that the parameter <code>ubar</code>  is used</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>another physical entity to which <code>Dirichlet</code> conditions are applied</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>the associated expression to the entity</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>another physical entity to which <code>Dirichlet</code> conditions are applied</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>the associated expression to the entity</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>the variable toolbox to which the condition is applied, here <code>fluid</code> which corresponds to velocity and pressure \((\mathbf{u},p)\)</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>the type of boundary condition applied, here outlet or outflow boundary condition</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>the physical entity to which outflow condition is applied</td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td>the expression associated to the outflow condition, note that it is scalar and corresponds in this case to the condition \(\sigma(\mathbf{u},p) \normal = 0 \normal\)</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_postprocessing"><a class="anchor" href="#_postprocessing"></a>10. PostProcessing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section allows to define the output fields and quantities to be computed and saved for <em>e.g.</em> visualization.</p>
</div>
<div class="listingblock">
<div class="title">Template of a <code>PostProcess</code> section</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"PostProcess":
{
    "Exports":
    {
        "fields":["field1","field2",...]
    },
    "Save":
    {
        "Fields":
        {
             "names":["field1","field2",...]
             "format":"hdf5"                                                                                                                                                                                                                   }
    },
    "Measures":
    {
        "&lt;measure type&gt;":
        {
            ....
        }
    }
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_exports"><a class="anchor" href="#_exports"></a>10.1. Exports</h3>
<div class="paragraph">
<p>The <code>Exports</code> section is implemented when you want to visualize some fields or mathematical expressions with ParaView software for example.
There are two subsection :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the entry <code>fields</code> should be filled with names which are available in the toolbox used.</p>
</li>
<li>
<p>the entry <code>expr</code> should contains mathematical expression (scalar,vectorial,tensorial)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Template of a <code>PostProcess</code> section</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Exports":
{
   "fields":["temperature","all"],  <i class="conum" data-value="1"></i><b>(1)</b>
   "expr": <i class="conum" data-value="2"></i><b>(2)</b>
   {
      "toto":"2*x*y:x:y", <i class="conum" data-value="3"></i><b>(3)</b>
      "titi":  <i class="conum" data-value="4"></i><b>(4)</b>
      {
         "parts": [ <i class="conum" data-value="5"></i><b>(5)</b>
            {
               "expr":"3*x*y:x:y", <i class="conum" data-value="6"></i><b>(6)</b>
               "markers":"Omega1" <i class="conum" data-value="7"></i><b>(7)</b>
            },
            {
               "expr":"4*x*y:x:y", <i class="conum" data-value="8"></i><b>(8)</b>
               "markers":"Omega2" <i class="conum" data-value="9"></i><b>(9)</b>
            }
         ],
         "representation":["nodal","element"] <i class="conum" data-value="10"></i><b>(10)</b>
      },
      "tutu": <i class="conum" data-value="11"></i><b>(11)</b>
      {
         "expr":"{materials_k_00,materials_k_01,materials_k_10,materials_k_11}:materials_k_00:materials_k_01:materials_k_10:materials_k_11", <i class="conum" data-value="12"></i><b>(12)</b>
         "representation":["nodal","element"] <i class="conum" data-value="13"></i><b>(13)</b>
      }
   }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>exports fields that are available in the toolbox used (see the toolbox documentation).</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>start the expression subsection</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>export a field named <code>toto</code> from a mathematical expression defined on the whole mesh</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>export a field named <code>titi</code> from mathematical expressions</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>start a section named <code>parts</code> in order to tell that the exported fields is defined from several expressions related to a part of the mesh</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>an expression</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>markers where the expression is applied</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>another expression</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>markers where the previous expression is applied</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>representation of the exported field <code>titi</code>. Possible values are : <code>nodal</code> or <code>element</code> or both. This is an optional entry, the default value is nodal.</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>export a field named <code>tutu</code></td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td>an expression</td>
</tr>
<tr>
<td><i class="conum" data-value="13"></i><b>13</b></td>
<td>representation of the exported field <code>tutu</code></td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_save"><a class="anchor" href="#_save"></a>10.2. Save</h3>
<div class="paragraph">
<p>The <code>Save</code> section is implemented when you want to store data using the Feel++ format.
For example, It can be useful to have access to these data and use them in another application.
Currently, there is only the possibility to save the fields (finite element approximation).</p>
</div>
<div class="listingblock">
<div class="title">Example of a <code>Save</code> section</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Save":
{
    "Fields":
    {
         "names": <i class="conum" data-value="1"></i><b>(1)</b>
         "format": <i class="conum" data-value="2"></i><b>(2)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>the names of fields that we want to save (can be a name or a vector of name)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>the format used (possible values are "default","hdf5","binary","text"). It&#8217;s an optional entry, the default value is choosen by Feel++ (it&#8217;s "hdf5" if Feel++ was compiled with a hdf5 library).</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_measures"><a class="anchor" href="#_measures"></a>10.3. Measures</h3>
<div class="paragraph">
<p>Several quantities can be computed after each time step for transient simulation or after the solve of a stationary simulation.
The values computed are stored in a CSV files format localized typically in directory named &lt;toolbox&gt;.measures.
In the template of <code>PostProcess</code> section, <code>&lt;measure type&gt;</code> is the name given of a measure.
In next subsection, we present some types of measure that are common for all toolbox. Other types of measure are available but depend on the toolbox used,
and the description is given in the specific toolbox documentation.</p>
</div>
<div class="paragraph">
<p>The common measures are :</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> <a href="#_points">Points</a></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <a href="#_statistics">Statistics</a></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <a href="#_norm">Norm</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_points"><a class="anchor" href="#_points"></a>10.3.1. Points</h4>
<div class="paragraph">
<p>This post process allow to evaluate some fields or expression over a set of points. Theses points can be defined explicitly or sampled over a geometry as a segment.</p>
</div>
<div class="sect4">
<h5 id="_from_explicit_coordinates"><a class="anchor" href="#_from_explicit_coordinates"></a>From explicit coordinates</h5>
<div class="listingblock">
<div class="title">Example of a <code>Point</code> measures</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Points":
{
    "pointD": <i class="conum" data-value="1"></i><b>(1)</b>
    {
        "coord":"{2,0}", <i class="conum" data-value="2"></i><b>(2)</b>
        "fields":["displacement","pressure"], <i class="conum" data-value="3"></i><b>(3)</b>
        "expressions": <i class="conum" data-value="4"></i><b>(4)</b>
        {
             "e1":"2*x+kappa:x:kappa", <i class="conum" data-value="5"></i><b>(5)</b>
             "e2":"solid_stress_P_11+solid_stress_P_22:solid_stress_P_11:solid_stress_P_11" <i class="conum" data-value="6"></i><b>(6)</b>
        }
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>the name given to a points evaluation context.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>the coordinates expr of the point. This can be also a vector of coordinates.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>which fields will be evaluated in this points evaluation context.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>defined json section where some expressions will be evaluated in this points evaluation context.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>an expression called <code>e1</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>another expression called <code>e2</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This example will generate 4 measures called : <code>Points_pointD_field_displacement</code>, <code>Points_pointD_field_pressure</code>, <code>Points_pointD_expr_e1</code>, <code>Points_pointD_expr_e2</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When <code>coord</code> value specify more than one point, an index is automatically added in the measures names generated. The format will be <code>Points_&lt;point_name&gt;_&lt;point_index&gt;_&lt;type&gt;_&lt;eval_name&gt;</code> with</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>point_name</code> : the name given to a points evaluation context</p>
</li>
<li>
<p><code>point_index</code> : the index of point in the list (starting form 0)</p>
</li>
<li>
<p><code>type</code> : evaluation type is <code>field</code> or <code>expr</code></p>
</li>
<li>
<p><code>eval_name</code> : the name of the field or the expression</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_from_sampling_a_segment"><a class="anchor" href="#_from_sampling_a_segment"></a>From sampling a segment</h5>
<div class="listingblock">
<div class="title">Example of a <code>Point</code> measures</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Points":
{
   "vertical_segment": <i class="conum" data-value="1"></i><b>(1)</b>
   {
       "over_geometry": <i class="conum" data-value="2"></i><b>(2)</b>
       {
           "segment": <i class="conum" data-value="3"></i><b>(3)</b>
           {
              "point1":"{0.5,0}", <i class="conum" data-value="4"></i><b>(4)</b>
              "point2":"{0.5,1}", <i class="conum" data-value="5"></i><b>(5)</b>
              "n_points":100 <i class="conum" data-value="6"></i><b>(6)</b>
           }
       },
       "fields":"velocity", <i class="conum" data-value="7"></i><b>(7)</b>
       "include_coordinates":1, <i class="conum" data-value="8"></i><b>(8)</b>
       "output": <i class="conum" data-value="9"></i><b>(9)</b>
       {
          "type":"table" <i class="conum" data-value="10"></i><b>(10)</b>
          //"name":"vertical_centerline"
       }
   }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>the name given to a points evaluation context.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>over_geometry</code> is a keyword for specify a geometry in this subsection</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>the name of geometry here <code>segment</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>coordinate expression of an extremity of this segment</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>coordinate expression of the other extremity of this segment</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>number of points sampled over the segment, by default points are equidistributed</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>which fields will be evaluated in this points evaluation context.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>if true, this will export also the coordinates of each point</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>specifiy an output subsection in order to store this results in a specific csv file</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>the output type will be a table</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The output type can be <code>value</code> or <code>table</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A value type correspond to put each measure in a specific column and we accumlate at each time for example by adding row.</p>
</li>
<li>
<p>A table type put in one column all evaluations of a field or an expression. We build one table (and thus one file) per time step.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_statistics"><a class="anchor" href="#_statistics"></a>10.3.2. Statistics</h4>
<div class="paragraph">
<p>The next table presents the several statistics that you can evaluate :</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Statistics Type</th>
<th class="tableblock halign-left valign-top">Expression</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(  \underset{x\in\Omega}{\min} u(x) \)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(  \underset{x\in\Omega}{\max} u(x) \)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\( \frac{1}{ | \Omega |} \int_{\Omega} u \)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">integrate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\( \int_{\Omega} u \)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>with <code>u</code> a function and \( \Omega\) the definition domain where the statistic is applied.</p>
</div>
<div class="paragraph">
<p>The next source code shows an example of <code>Statistics</code> section with several kinds of computation. The results are stored in a
CSV file at columns named <code>Statistics_mystatA_mean</code>, <code>Statistics_mystatB_min</code>, <code>Statistics_mystatB_max</code>, <code>Statistics_mystatB_mean</code>, <code>Statistics_mystatB_integrate</code>.</p>
</div>
<div class="listingblock">
<div class="title">Example of a <code>Statistics</code> section</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Statistics":
{
    "mystatA": <i class="conum" data-value="1"></i><b>(1)</b>
    {
        "type":"mean", <i class="conum" data-value="2"></i><b>(2)</b>
        "field":"temperature" <i class="conum" data-value="3"></i><b>(3)</b>
    },
    "mystatB": <i class="conum" data-value="4"></i><b>(4)</b>
    {
        "type":["min","max","mean","integrate"], <i class="conum" data-value="5"></i><b>(5)</b>
        "expr":"2*x+y:x:y", <i class="conum" data-value="6"></i><b>(6)</b>
        "markers":"omega" <i class="conum" data-value="7"></i><b>(7)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>the name associated with the first Statistics computation</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>the Statistics type</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>the field <code>u</code> evaluated in the Statistics (here the temperature field in the heat toolbox)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>the name associated with the second Statistics computation</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>the Statistics type</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>the field <code>u</code> evaluated in the Statistics</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>the mesh marker where the Statistics is computed (\(\Omega\) in the previous table). This entry can be a vector of marker</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The function <code>u</code> can be a finite element field or a symbolic expression.
We use the <code>field</code> entry for a finite element field and <code>expr</code> for symbolic expression.
<code>field</code> and <code>expr</code> can not be used simultaneously.</p>
</div>
<div class="paragraph">
<p>All expressions can depend on specifics symbols related to the toolboxes used. For example, in the heat toolboxes :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"expr":"2*heat_T+3*x:heat_T:x"</code></pre>
</div>
</div>
<div class="paragraph">
<p>where <code>heat_T</code> is the temperature solution computed at last solve. It can also depend on a parameter defined in the <code>Parameters</code> section of the JSON.</p>
</div>
<div class="paragraph">
<p>The quadrature order used in the statistical evaluation can be specified. By default, the quadrature order is 5.
For example, use a quadrature order equal to 10 is done by adding :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"quad":10</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Quadrature order is also used with <code>min</code> and <code>max</code> statistics. We get the min/max values by evaluating the expression on each quadrature points.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In the <code>mean</code> and <code>integrate</code> Statistics, the quadrature order is automatically chosen when <code>field</code> is used.
In this case, the <code>quad</code> entry has no effect.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The expression can be a scalar, a vector or a matrix. However, there is a particularity in the case of <code>mean</code> or <code>integrate</code> statistics with non-scalar expression.
The result is not a scalar value but a vector or matrix. We store in the CSV file each entry of this vector/matrix.</p>
</div>
</div>
<div class="sect3">
<h4 id="_norm"><a class="anchor" href="#_norm"></a>10.3.3. Norm</h4>
<div class="paragraph">
<p>The next table presents the several norms that you can evaluate :</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Norm Type</th>
<th class="tableblock halign-left valign-top">Expression</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">L2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\( \| u \|_{L^2} = \left ( \int_{\Omega} \| u \|^2 \right)^{\frac{1}{2}}\)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SemiH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\( | u |_{H^1} = \left ( \int_{\Omega} \| \nabla u \|^2 \right)^{\frac{1}{2}} \)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\( \| u \|_{H^1} = \left ( \int_{\Omega} \| u \|^2 +  \int_{\Omega} \| \nabla u \|^2 \right)^{\frac{1}{2}} \)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">L2-error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\( \| u-v \|_{L^2} = \left ( \int_{\Omega} \| u-v \|^2 \right)^{\frac{1}{2}}\)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SemiH1-error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\( | u-v |_{H^1} = \left ( \int_{\Omega} \| \nabla u-\nabla v \|^2 \right)^{\frac{1}{2}} \)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H1-error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\( \| u-v \|_{H^1} = \left ( \int_{\Omega} \| u-v \|^2 +  \int_{\Omega} \| \nabla u-\nabla v \|^2 \right)^{\frac{1}{2}} \)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>where \(\| . \|\) represents the norm of the generalized inner product. The symbol <code>u</code> represents a field or an expression and <code>v</code> an expression.</p>
</div>
<div class="paragraph">
<p>The next source code shows an example of Norm section with two norm computations. The results are stored in a CSV file at columns named <code>Norm_mynorm_L2</code> and <code>Norm_myerror_L2-error</code>.</p>
</div>
<div class="listingblock">
<div class="title">Example of a <code>Norm</code> section</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Norm":
{
    "mynorm": <i class="conum" data-value="1"></i><b>(1)</b>
    {
        "type":"L2", <i class="conum" data-value="2"></i><b>(2)</b>
        "field":"velocity" <i class="conum" data-value="3"></i><b>(3)</b>
     },
     "myerror": <i class="conum" data-value="4"></i><b>(4)</b>
     {
         "type":"L2-error", <i class="conum" data-value="5"></i><b>(5)</b>
         "field":"velocity", <i class="conum" data-value="6"></i><b>(6)</b>
         "solution":"{2*x,cos(y)}:x:y", <i class="conum" data-value="7"></i><b>(7)</b>
         "markers":"omega" <i class="conum" data-value="8"></i><b>(8)</b>
     }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>the name associated with the first norm computation</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>the norm type</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>the field <code>u</code> evaluated in the norm (here the velocity field in the fluid toolbox)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>the name associated with the second norm computation</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>the norm type</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>the field <code>u</code> evaluated in the norm</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>the expression <code>v</code> with the error norm type</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>the mesh marker where the norm is computed (\(\Omega\) in the previous table). This entry can be a vector of marker</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
with the <code>H1-error</code> or <code>SemiH1-error</code> norm, the gradient of the solution must be given with  <code>grad_solution</code> entry. Probably this input should be automatically deduced in the near future.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Several norms can be computed by listing it in the type section :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"type":["L2-error","H1-error","SemiH1-error"],
"solution":"{2*x,cos(y)}:x:y",
"grad_solution":"{2,0,0,-sin(y)}:x:y",</code></pre>
</div>
</div>
<div class="paragraph">
<p>The gradient of a vector field is a matrix field such that the rows are the gradient of the component.
It means that if the function solution is written <code>f={f1,f2}</code> the field <code>grad_solution</code> has to be written like this : <code>{dxf1,dyf1,dxf2,dyf2}:x:y</code> (<code>dxf1</code> standing for \(\partial_x f_1\)).</p>
</div>
<div class="paragraph">
<p>An expression (scalar/vector/matrix) can be also passed to evaluate the norm. But in this case, the <code>field</code> entry must be removed and this expression replaces the symbol <code>u</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"expr":"2*x*y:x:y"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As before, in the case of <code>H1</code> or <code>SemiH1</code> norm type, the <code>grad_expr</code> entry must be given.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"grad_expr":"{2*y,2*x}:x:y"</code></pre>
</div>
</div>
<div class="paragraph">
<p>All expressions can depend on specifics symbols related to the toolboxes used. For example, in the heat toolboxes :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"expr":"2*heat_T+3*x:heat_T:x"</code></pre>
</div>
</div>
<div class="paragraph">
<p>where <code>heat_T</code> is the temperature solution computed at last solve. It can also depend on a parameter defined in the <code>Parameters</code> section of the JSON.</p>
</div>
<div class="paragraph">
<p>The quadrature order used in the norm computed can be also given if an analytical expression is used. By default, the quadrature order is 5. For example, use a quadrature order equal to 10 is done by adding :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"quad":10</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_an_example"><a class="anchor" href="#_an_example"></a>11. An example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"PostProcess": <i class="conum" data-value="1"></i><b>(1)</b>
    {
        "Exports": <i class="conum" data-value="2"></i><b>(2)</b>
        {
            "fields":["velocity","pressure","pid"] <i class="conum" data-value="3"></i><b>(3)</b>
        },
        "Measures": <i class="conum" data-value="4"></i><b>(4)</b>
        {
            "Forces":"wall2", <i class="conum" data-value="5"></i><b>(5)</b>
            "Points": <i class="conum" data-value="6"></i><b>(6)</b>
            {
                "pointA": <i class="conum" data-value="7"></i><b>(7)</b>
                {
                    "coord":"{0.6,0.2,0}", <i class="conum" data-value="8"></i><b>(8)</b>
                    "fields":"pressure" <i class="conum" data-value="9"></i><b>(9)</b>
                },
                "pointB": <i class="conum" data-value="10"></i><b>(10)</b>
                {
                    "coord":"{0.15,0.2,0}", <i class="conum" data-value="11"></i><b>(11)</b>
                    "fields":"pressure" <i class="conum" data-value="12"></i><b>(12)</b>
                }
            }
        }
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>the name of the section</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>the <code>Exports</code> identifies the toolbox fields that have to be exported for visualisation</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>the list of fields to be exported</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>the <code>Measures</code> section identifies outputs of interest such as</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><code>Forces</code> applied to a surface given by the physical entity <code>wall2</code></td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><code>Points</code> values of fields</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>name of the point</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>coordinates of the point</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>fields to be computed at the point coordinate</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>name of the point</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>coordinates of the point</td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td>fields to be computed at the point coordinate</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here is a   <a href="../../cases/0.110/csm/rotating-winch/index.html" class="xref page">biele example</a> from the Toolbox examples.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_generator_of_cases_by_using_the_index_definitions"><a class="anchor" href="#_the_generator_of_cases_by_using_the_index_definitions"></a>12. The generator of cases by using the index definitions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sometimes, it appears that a large part of a JSON section is duplicated many times and just a few words/letters of the syntax have changed.
In order to avoid this repetition, a generic block can be created and the expansion is controlled by entries called <code>index(i)</code> (where <code>(i)</code> is an integer &gt; 0).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
it&#8217;s currently available in <code>PostProcess</code> or in <code>markers</code> subtree.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_a_first_example"><a class="anchor" href="#_a_first_example"></a>12.1. A first example</h3>
<div class="paragraph">
<p>We want to apply several post-processings of type <code>Statistics Measures</code> from an expression (always identical) on several mesh markers called <code>top</code>, <code>left</code>, <code>bottom</code> and <code>right</code>.
The classic way is to write theses measures for each marker. This implies a lot of duplication as illustrated in the next snippet JSON :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Statistics":
{
    "my_top_eval":
    {
        "type":"integrate",
        "expr":"3.12*heat_dnT:heat_dnT",
        "markers":"top"
    },
    "my_left_eval":
    {
         "type":"integrate",
         "expr":"3.12*heat_dnT:heat_dnT",
         "markers":"left"
    },
    "my_bottom_eval":
    {
         "type":"integrate",
         "expr":"3.12*heat_dnT:heat_dnT",
         "markers":"bottom"
    },
    "my_right_eval":
    {
         "type":"integrate",
         "expr":"3.12*heat_dnT:heat_dnT",
         "markers":"right"
    }
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The generic section that will generate exactly the same measures is :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Statistics":
{
    "my_%1%_eval":
    {
        "type":"integrate",
         "expr":"3.12*heat_dnT:heat_dnT",
         "markers":"%1%",
         "index1":["top","left","bottom","right"]
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The keyword <code>%1%</code> can be placed in any location of the properties of <code>Statistics Measures</code> and it will be replaced by the values given by <code>index1</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this example of measures, an important thing is to be sure that the name of the measure is unique, else it will be overridden.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_a_second_example"><a class="anchor" href="#_a_second_example"></a>12.2. A second example</h3>
<div class="paragraph">
<p>The previous case is a little bit restrictive because only one value can be associated for each case generated.
However, we can put several values by cases by using an array of array.</p>
</div>
<div class="paragraph">
<p>As an illustration, we have this JSON snippet that we want to factorize :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Statistics":
{
    "Check_Heat-Flux_top":
    {
         "type":"integrate",
          "expr":"-heat_Concrete_k*heat_dnT - h_top*(heat_T-T0_top):heat_Concrete_k:heat_dnT:heat_T:h_top:T0_top",
          "markers":"top"
    },
    "Check_Heat-Flux_bottom":
    {
          "type":"integrate",
          "expr":"-heat_Aluminium_k*heat_dnT - h_bottom*(heat_T-T0_bottom):heat_Aluminium_k:heat_dnT:heat_T:h_bottom:T0_bottom",
          "markers":"bottom"
    },
    "Check_Heat-Flux_left":
    {
          "type":"integrate",
          "expr":"-heat_Wood_k*heat_dnT - h_left*(heat_T-T0_left):heat_Wood_k:heat_dnT:heat_T:h_left:T0_left",
          "markers":"left"
    },
    "Check_Heat-Flux_right":
    {
          "type":"integrate",
          "expr":"-heat_Insulation_k*heat_dnT - h_right*(heat_T-T0_right):heat_Insulation_k:heat_dnT:heat_T:h_right:T0_right",
          "markers":"right"
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The generic JSON section will be the following :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Statistics":
{
    "Check_Heat-Flux_%1_1%":
     {
          "type":"integrate",
          "expr":"-heat_%1_2%_k*heat_dnT - h_%1_1%*(heat_T-T0_%1_1%):heat_%1_2%_k:heat_dnT:heat_T:h_%1_1%:T0_%1_1%",
          "markers":"%1_1%",
          "index1":[ ["top", "Concrete"],["bottom", "Aluminium"], ["left","Wood"], ["right","Insulation"] ]
     }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Compared to the previous case, the keywords used here are <code>%1_1%</code> and <code>%1_2%</code>. The number <code>1</code> placed in front corresponds to the fact that we use the <code>index1</code>.
The second number (after the underscore) corresponds to the id in the sub-array. Each sub-array in the <code>index1</code> array must have the same size.
In this example, the size of a sub-array is 2. Consequently, we can only have here the value <code>1</code> or <code>2</code> for the id in the sub-array.
In summary, this example generates 4 cases :</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Case</th>
<th class="tableblock halign-left valign-top"><code>%1_1%</code></th>
<th class="tableblock halign-left valign-top"><code>%1_2%</code></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;1&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>top</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Concrete</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;2&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bottom</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Aluminium</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;3&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>left</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Wood</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;4&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>right</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Insulation</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_cases_generated_by_cartesian_product"><a class="anchor" href="#_cases_generated_by_cartesian_product"></a>12.3. Cases generated by cartesian product</h3>
<div class="paragraph">
<p>We can also generate a set of case by a cartesian product of an arbitrary number of indexes.
For example, to generate several measures associated one-by-one with the following markers :
 <code>matA3</code>, <code>matA5</code>, <code>matA7</code>, <code>matB3</code>, <code>matB5</code>, <code>matB7</code>. As show just after in the snippet JSON,
 the cartesian product is automaticallly apply when more than one index is given :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Statistics":
{
    "my_%1%_%2%_eval":
    {
        "type":"integrate",
         "expr":"3.12*heat_dnT:heat_dnT",
         "markers":"mat%1%%2%",
         "index1":["A","B"],
         "index2":["3","5","7"]
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The keyword <code>%1%</code> (resp <code>%2%</code>) is replaced by the values given by <code>index1</code> (resp <code>index2</code>).
An arbitrary number of index can be put, but the ids should be contiguous and always start to 1 (<code>index1</code>,<code>index2</code>,<code>index3</code>,&#8230;&#8203;).</p>
</div>
<div class="paragraph">
<p>We can also use the array of array format for giving several values in a index :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Statistics":
{
    "my_%1%_%2_2%_eval":
    {
        "type":"integrate",
         "expr":"3.12*heat_dnT:heat_dnT",
         "markers":"mat%1%%2_1%",
         "index1":["A","B"],
         "index2":[ ["3","trois"],["5","cinq"],["7","sept"] ]
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We retrieve here the symbol %2_1% and %2_2% because the index2 is build as an array of array.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 28.5714%;">
<col style="width: 28.5714%;">
<col style="width: 28.5715%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Case</th>
<th class="tableblock halign-left valign-top"><code>%1%</code></th>
<th class="tableblock halign-left valign-top"><code>%2_1%</code></th>
<th class="tableblock halign-left valign-top"><code>%2_2%</code></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;1&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>A</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trois</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;2&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>A</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cinq</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;3&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>A</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sept</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;4&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trois</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;5&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cinq</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;6&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sept</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Therefore, this example generates the following 6 measures :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>my_A_trois_eval</code> with markers assigned to <code>matA3</code></p>
</li>
<li>
<p><code>my_A_cinq_eval</code> with markers assigned to <code>matA5</code></p>
</li>
<li>
<p><code>my_A_sept_eval</code> with markers assigned to <code>matA7</code></p>
</li>
<li>
<p><code>my_B_trois_eval</code> with markers assigned to <code>matB3</code></p>
</li>
<li>
<p><code>my_B_cinq_eval</code> with markers assigned to <code>matB5</code></p>
</li>
<li>
<p><code>my_B_sept_eval</code> with markers assigned to <code>matB7</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_range_of_integers"><a class="anchor" href="#_range_of_integers"></a>12.4. Range of integers</h3>
<div class="paragraph">
<p>A special syntax is designed to generate an index representing a range of integers.
This sequence is defined by a start number, stop number (not include) and a progression step.
These parameters are separated by the symbol <code>:</code> , as we can see here :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>1:10</code>   &#8594; 1,2,3,4,5,6,7,8,9</p>
</li>
<li>
<p><code>1:10:2</code> &#8594; 1,3,5,7,9</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This notation can be used in all <code>index(i)</code> entries (and also in an array of array).
Therefore, we can rewrite the previous example with this syntax :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Statistics":
{
    "my_%1%_%2%_eval":
    {
        "type":"integrate",
        "expr":"3.12*heat_dnT:heat_dnT",
        "markers":"mat%1%%2%",
        "index1":["A","B"],
        "index2":["3:9:2"]
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_the_markers_entry"><a class="anchor" href="#_the_markers_entry"></a>12.5. The <code>markers</code> entry</h3>
<div class="paragraph">
<p>In many contexts (<code>Materials</code>, <code>BoundaryConditions</code>, <code>PostProcess</code>, &#8230;&#8203;), it&#8217;s necessary to give the names of mesh markers.
Generally, an entry called <code>markers</code> should be filled.
There are 3 ways to use it :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Only one string</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"markers":"matA3"</code></pre>
</div>
</div>
</li>
<li>
<p>An array of string</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"markers":["matA3","matA5","matA7","matB3","matB5","matB7"]</code></pre>
</div>
</div>
</li>
<li>
<p>A subtree with an entry called <code>name</code> that can be filled by one string or an array of string</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"markers":
{
   "name":["matA3","matA5","matA7","matB3","matB5","matB7"]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The subtree case has been introduced in fact in order to use a generator of names of mesh markers based on the index methodology explain previously.
If we want to generate the previous example, we can also write this JSON snippet :</p>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"markers":
{
   "name":"mat%1%%2%",
   "index1":["A","B"],
   "index2":["3","5","7"]
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_several_levels_of_indexes"><a class="anchor" href="#_several_levels_of_indexes"></a>12.6. Several levels of indexes</h3>
<div class="paragraph">
<p>It&#8217;s also possible to combine the index at several levels of properties.
The important thing is to keep a contiguous progression of the indexes ids.
The following code JSON snippet generates some <code>Statistics Measures</code> by using several indexes. And for each measure,
it uses also the generator of markers with other indexes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Statistics":
{
    "my_%1%_%2%_eval":
    {
        "type":"integrate",
        "expr":"3.12*heat_dnT:heat_dnT",
        "markers":
        {
            "name":"mat%1%%2%_%3%",
            "index3":["x","y","z"]
        },
        "index1":["A","B"],
        "index2":["3:9:2"]
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This example generates the following 6 measures :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>my_A_3_eval</code> with markers assigned to <code>matA3_x</code>,<code>matA3_y</code>,<code>matA3_z</code></p>
</li>
<li>
<p><code>my_A_5_eval</code> with markers assigned to <code>matA5_x</code>,<code>matA5_y</code>,<code>matA5_z</code></p>
</li>
<li>
<p><code>my_A_7_eval</code> with markers assigned to <code>matA7_x</code>,<code>matA7_y</code>,<code>matA7_z</code></p>
</li>
<li>
<p><code>my_B_3_eval</code> with markers assigned to <code>matB3_x</code>,<code>matB3_y</code>,<code>matB3_z</code></p>
</li>
<li>
<p><code>my_B_5_eval</code> with markers assigned to <code>matB5_x</code>,<code>matB5_y</code>,<code>matB5_z</code></p>
</li>
<li>
<p><code>my_B_7_eval</code> with markers assigned to <code>matB7_x</code>,<code>matB7_y</code>,<code>matB7_z</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We need to use <code>index3</code> in the <code>markers</code> subtree because <code>index1</code> and <code>index2</code> are already used in a parent property.
If several generators are completely independents, each section should start with the <code>index1</code>. It&#8217;s the case with the following example :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"Statistics":
{
    "my_%1%_eval1":
    {
        "type":"integrate",
         "expr":"3.12*heat_dnT:heat_dnT",
         "markers":"%1%",
         "index1":["top","left","bottom","right"]
    },
    "my_%1%_eval2":
    {
        "type":"integrate",
         "expr":"x*y:x:y",
         "markers":"%1%",
         "index1":["top","left","bottom","right"]
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="what-is-a-toolbox.html">What is a Toolbox</a></span>
  <span class="next"><a href="parametrized-simulation-using-cfg-files.html">Parametrized Simulation using CFG files</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="sharethis-inline-share-buttons"></div>
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.cemosis.fr" class="icon">
            <img src="../../_/img/logoCemosisTransparent.png" alt="Cemosis">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.cemosis.fr" target="_blank" rel="noopener">Projects Documentation</a></li>
          <li><a href="https://join.slack.com/t/feelpp/shared_invite/zt-2qe0q9hw-4pVbhohCXUE6Po9Ma8dbiQ" target="_blank" rel="noopener">Forums(Slack)</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.cemosis.fr" target="_blank" rel="noopener">Cemosis</a></li>
          <li><a href="https://www.cemosis.fr/news" target="_blank" rel="noopener">News</a></li>
          <li><a href="https://www.cemosis.fr/projects" target="_blank" rel="noopener">Projects</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.feelpp.org" target="_blank" rel="noopener">Feel++ Documentation</a></li>
          <li><a href="http://docs.feelpp.org/user/">Get Started</a></li>
          <li><a href="http://docs.feelpp.org/user//install/distributions/">Downloads</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/cemosis.fr" class="icon">
            Facebook
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/cemosis" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/cemosis" class="icon">
             Linkedin
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Cemosis, Université de Strasbourg</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.cemosis.fr/terms-of-use">Terms of Use</a>
        <a href="https://www.cemosis.fr/privacy-policy">Privacy Policy</a>
        <a href="https://www.cemosis.fr/cookie-policy">Cookie Policy</a>
        <a href="https://www.cemosis.fr/support-policy">Support Policy</a>
      </div>
    </div>
  </div>
</footer>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>


<script async src="../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script async src="../../_/js/vendor/fontawesome.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>

<script async id="search-script" src="../../_/js/vendor/docsearch.js" data-app-id="03CF2L5SFL" data-api-key="53f606259c1ee7b82a42956e0c776c3d" data-index-name="feelpp" data-stylesheet="../../_/css/vendor/docsearch.css">
</script>

<script type="text/javascript">
function toggleFullScreen() {
   var doc = window.document;
   var docEl = doc.documentElement;

   var requestFullScreen = docEl.requestFullscreen || docEl.mozRequestFullScreen || docEl.webkitRequestFullScreen || docEl.msRequestFullscreen;
   var cancelFullScreen = doc.exitFullscreen || doc.mozCancelFullScreen || doc.webkitExitFullscreen || doc.msExitFullscreen;

   if(!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement) {
       requestFullScreen.call(docEl);
   }
   else {
       cancelFullScreen.call(doc);
   }
}
</script>
  </body>
</html>
